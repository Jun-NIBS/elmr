<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Bridge light and EM flybrain datasets — elmr-package • elmr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">elmr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jefferis/elmr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Bridge light and EM flybrain datasets</h1>
    </div>

    
    <p><b>elmr</b> builds on the <b>nat</b> and <b>catmaid</b> packages to provide
tools to read, analyse, plot, transform and convert neuroanatomical data,
especially as it relates to whole brain EM voumes generated at the HHMI
Janelia Research Campus (groups of Davi Bock, Stephan Saalfeld and many
collaborators).</p>
    

        
    <h2 class="hasAnchor" id="interesting-functions-data"><a class="anchor" href="#interesting-functions-data"></a>Interesting functions/data</h2>

    <p></p>
    <p><ul>
<li> <code><a href='http://www.rdocumentation.org/packages/nat.templatebrains/topics/xform_brain'>xform_brain</a></code></p>
    <p>allows you to transform FAFB data into a large number of other template
  brain spaces by making use of the <code>nat.templatebrains</code> and
  <code>nat.flybrains</code> packages. The ability to move beyond the
  <code><a href='http://www.rdocumentation.org/packages/nat.flybrains/topics/JFRC2013'>JFRC2013</a></code> template brain depends on having a
  functional CMTK installation. See <code><a href='http://www.rdocumentation.org/packages/nat/topics/cmtk.bindir'>cmtk.bindir</a></code> for more
  information and advice about installation.</p>
    <p></li>
<li> <code><a href='fetchn_fafb.html'>fetchn_fafb</a></code> allows you to fetch FAFB catmaid tracings
  and transform to a new template.</p>
    <p></li>
<li> <code><a href='nblast_fafb.html'>nblast_fafb</a></code> allows you to nblast catmaid tracings
  against a set of neuron skeletons e.g. from flycircuit.</p>
    <p></li>
<li> <code><a href='open_fafb.html'>open_fafb</a></code> allows you to open a catmaid session in your
  browser at a specific xyz location based on selecting a position in any
  template brain space e.g. a flycircuit.tw neuron or a JFRC2010 registered
  GAL4 line.</p>
    <p></li>
<li> <code><a href='stitch_neurons.html'>stitch_neurons</a></code> allows neuron fragments to be stitched
  together reasonably intelligently.</p>
    <p></li>
<li> <code><a href='FAFB.html'>FAFB12</a></code> a
  <code><a href='http://www.rdocumentation.org/packages/nat.templatebrains/topics/templatebrain'>templatebrain</a></code> object specifying the
  dimensions of the FAFB EM volume.</p>
    <p></li>
<li> <code><a href='elm.landmarks.html'>elm.landmarks</a></code> a set of landmarks that can define a thin
  plate spline transform mapping FAFB to light level template brains.</p>
    <p></li>
</ul></p>
    
    <h2 class="hasAnchor" id="authentication"><a class="anchor" href="#authentication"></a>Authentication</h2>

    <p>Interacting with a catmaid server will normally
  require authentication. Please see
  <a href = 'https://github.com/jefferis/rcatmaid#Authentication'>https://github.com/jefferis/rcatmaid#Authentication</a> for details of
  how to set up authentication. If you regularly use a particular catmaid
  server it is recommended to put authentication in your
  <code>Rprofile</code> file.</p>
    

    <h2 class="hasAnchor" id="examples">
      <a class="anchor" href="#examples"></a>
      Examples
    </h2>
    <pre class="examples"><div class='input'><span class='co'># position of antennal lobe glomeruli "V" in JFRC2013 template brain</span>
<span class='no'>vgloms.jfrc2013</span><span class='kw'>=</span><span class='fu'>data.frame</span>(<span class='kw'>X</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>316</span>,<span class='fl'>229</span>),
  <span class='kw'>Y</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>143</span>, <span class='fl'>139</span>),
  <span class='kw'>Z</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>26</span>,<span class='fl'>22</span>),
  <span class='kw'>row.names</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"V_L"</span>, <span class='st'>"V_R"</span>))
<span class='co'># Convert to FAFB12 coordinates</span>
<span class='fu'>xform_brain</span>(<span class='no'>vgloms.jfrc2013</span>, <span class='kw'>sample</span> <span class='kw'>=</span> <span class='no'>JFRC2013</span>, <span class='kw'>reference</span> <span class='kw'>=</span> <span class='no'>FAFB12</span>)</div><div class='output co'>#&gt;            X        Y        Z
#&gt; V_L 505996.4 288772.6 52530.38
#&gt; V_R 411437.2 282167.5 58400.24
#&gt; </div><div class='input'>
<span class='co'>## Not run: ------------------------------------</span>
<span class='co'># # Conversion of neurons from FlyCircuit template</span>
<span class='co'># # NB this conversion depends on a full install of nat.flybrains and CMTK</span>
<span class='co'># library(nat)</span>
<span class='co'># kcs13.fafb=xform_brain(kcs20[1:3], sample=FCWB, reference=FAFB12)</span>
<span class='co'>## ---------------------------------------------</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#interesting-functions-data">Interesting functions/data</a></li>

      <li><a href="#authentication">Authentication</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Gregory Jefferis.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
